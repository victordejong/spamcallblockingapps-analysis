package p131c.p161d.p170b.p188c.p210w0.p217x;

import android.util.SparseArray;
import com.google.android.exoplayer2.Format;
import com.google.android.exoplayer2.drm.DrmInitData;
import java.util.ArrayList;
import java.util.Arrays;
import p131c.p161d.p170b.p188c.p203g1.C2884h;
import p131c.p161d.p170b.p188c.p203g1.C2899s;
import p131c.p161d.p170b.p188c.p203g1.C2904v;
import p131c.p161d.p170b.p188c.p203g1.C2905w;
import p131c.p161d.p170b.p188c.p210w0.AbstractC3044i;
import p131c.p161d.p170b.p188c.p210w0.AbstractC3054q;
import p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3155h0;
/* renamed from: c.d.b.c.w0.x.q */
/* loaded from: classes-dex2jar.jar:c/d/b/c/w0/x/q.class */
public final class C3171q implements AbstractC3168o {

    /* renamed from: a */
    public final C3142c0 f11619a;

    /* renamed from: b */
    public final boolean f11620b;

    /* renamed from: c */
    public final boolean f11621c;

    /* renamed from: g */
    public long f11625g;

    /* renamed from: i */
    public String f11627i;

    /* renamed from: j */
    public AbstractC3054q f11628j;

    /* renamed from: k */
    public C3173b f11629k;

    /* renamed from: l */
    public boolean f11630l;

    /* renamed from: m */
    public long f11631m;

    /* renamed from: n */
    public boolean f11632n;

    /* renamed from: h */
    public final boolean[] f11626h = new boolean[3];

    /* renamed from: d */
    public final C3180v f11622d = new C3180v(7, 128);

    /* renamed from: e */
    public final C3180v f11623e = new C3180v(8, 128);

    /* renamed from: f */
    public final C3180v f11624f = new C3180v(6, 128);

    /* renamed from: o */
    public final C2904v f11633o = new C2904v();

    /* renamed from: c.d.b.c.w0.x.q$b */
    /* loaded from: classes-dex2jar.jar:c/d/b/c/w0/x/q$b.class */
    public static final class C3173b {

        /* renamed from: a */
        public final AbstractC3054q f11634a;

        /* renamed from: b */
        public final boolean f11635b;

        /* renamed from: c */
        public final boolean f11636c;

        /* renamed from: f */
        public final C2905w f11639f;

        /* renamed from: g */
        public byte[] f11640g;

        /* renamed from: h */
        public int f11641h;

        /* renamed from: i */
        public int f11642i;

        /* renamed from: j */
        public long f11643j;

        /* renamed from: k */
        public boolean f11644k;

        /* renamed from: l */
        public long f11645l;

        /* renamed from: o */
        public boolean f11648o;

        /* renamed from: p */
        public long f11649p;

        /* renamed from: q */
        public long f11650q;

        /* renamed from: r */
        public boolean f11651r;

        /* renamed from: d */
        public final SparseArray<C2899s.C2901b> f11637d = new SparseArray<>();

        /* renamed from: e */
        public final SparseArray<C2899s.C2900a> f11638e = new SparseArray<>();

        /* renamed from: m */
        public C3174a f11646m = new C3174a();

        /* renamed from: n */
        public C3174a f11647n = new C3174a();

        /* renamed from: c.d.b.c.w0.x.q$b$a */
        /* loaded from: classes-dex2jar.jar:c/d/b/c/w0/x/q$b$a.class */
        public static final class C3174a {

            /* renamed from: a */
            public boolean f11652a;

            /* renamed from: b */
            public boolean f11653b;

            /* renamed from: c */
            public C2899s.C2901b f11654c;

            /* renamed from: d */
            public int f11655d;

            /* renamed from: e */
            public int f11656e;

            /* renamed from: f */
            public int f11657f;

            /* renamed from: g */
            public int f11658g;

            /* renamed from: h */
            public boolean f11659h;

            /* renamed from: i */
            public boolean f11660i;

            /* renamed from: j */
            public boolean f11661j;

            /* renamed from: k */
            public boolean f11662k;

            /* renamed from: l */
            public int f11663l;

            /* renamed from: m */
            public int f11664m;

            /* renamed from: n */
            public int f11665n;

            /* renamed from: o */
            public int f11666o;

            /* renamed from: p */
            public int f11667p;

            public C3174a() {
            }

            /* renamed from: a */
            public void m27624a() {
                this.f11653b = false;
                this.f11652a = false;
            }

            /* renamed from: a */
            public void m27623a(int i) {
                this.f11656e = i;
                this.f11653b = true;
            }

            /* renamed from: a */
            public void m27622a(C2899s.C2901b bVar, int i, int i2, int i3, int i4, boolean z, boolean z2, boolean z3, boolean z4, int i5, int i6, int i7, int i8, int i9) {
                this.f11654c = bVar;
                this.f11655d = i;
                this.f11656e = i2;
                this.f11657f = i3;
                this.f11658g = i4;
                this.f11659h = z;
                this.f11660i = z2;
                this.f11661j = z3;
                this.f11662k = z4;
                this.f11663l = i5;
                this.f11664m = i6;
                this.f11665n = i7;
                this.f11666o = i8;
                this.f11667p = i9;
                this.f11652a = true;
                this.f11653b = true;
            }

            /* JADX WARN: Code restructure failed: missing block: B:17:0x0053, code lost:
                if (r3.f11661j == r4.f11661j) goto L_0x0056;
             */
            /* JADX WARN: Code restructure failed: missing block: B:23:0x0074, code lost:
                if (r0 != 0) goto L_0x0077;
             */
            /* JADX WARN: Code restructure failed: missing block: B:31:0x00a2, code lost:
                if (r3.f11665n == r4.f11665n) goto L_0x00a5;
             */
            /* JADX WARN: Code restructure failed: missing block: B:39:0x00d2, code lost:
                if (r3.f11667p == r4.f11667p) goto L_0x00d5;
             */
            /* renamed from: a */
            /*
                Code decompiled incorrectly, please refer to instructions dump.
                To view partially-correct add '--show-bad-code' argument
            */
            public final boolean m27621a(p131c.p161d.p170b.p188c.p210w0.p217x.C3171q.C3173b.C3174a r4) {
                /*
                    Method dump skipped, instructions count: 264
                    To view this dump add '--comments-level debug' option
                */
                throw new UnsupportedOperationException("Method not decompiled: p131c.p161d.p170b.p188c.p210w0.p217x.C3171q.C3173b.C3174a.m27621a(c.d.b.c.w0.x.q$b$a):boolean");
            }

            /* renamed from: b */
            public boolean m27619b() {
                int i;
                return this.f11653b && ((i = this.f11656e) == 7 || i == 2);
            }
        }

        public C3173b(AbstractC3054q qVar, boolean z, boolean z2) {
            this.f11634a = qVar;
            this.f11635b = z;
            this.f11636c = z2;
            byte[] bArr = new byte[128];
            this.f11640g = bArr;
            this.f11639f = new C2905w(bArr, 0, 0);
            m27625b();
        }

        /* renamed from: a */
        public final void m27631a(int i) {
            boolean z = this.f11651r;
            this.f11634a.mo28037a(this.f11650q, z ? 1 : 0, (int) (this.f11643j - this.f11649p), i, null);
        }

        /* renamed from: a */
        public void m27630a(long j, int i, long j2) {
            this.f11642i = i;
            this.f11645l = j2;
            this.f11643j = j;
            if (!this.f11635b || i != 1) {
                if (this.f11636c) {
                    int i2 = this.f11642i;
                    if (!(i2 == 5 || i2 == 1 || i2 == 2)) {
                        return;
                    }
                } else {
                    return;
                }
            }
            C3174a aVar = this.f11646m;
            this.f11646m = this.f11647n;
            this.f11647n = aVar;
            aVar.m27624a();
            this.f11641h = 0;
            this.f11644k = true;
        }

        /* renamed from: a */
        public void m27628a(C2899s.C2900a aVar) {
            this.f11638e.append(aVar.f10510a, aVar);
        }

        /* renamed from: a */
        public void m27627a(C2899s.C2901b bVar) {
            this.f11637d.append(bVar.f10516d, bVar);
        }

        /* JADX WARN: Removed duplicated region for block: B:52:0x018a  */
        /* JADX WARN: Removed duplicated region for block: B:53:0x0190  */
        /* JADX WARN: Removed duplicated region for block: B:56:0x0198  */
        /* JADX WARN: Removed duplicated region for block: B:60:0x01af  */
        /* JADX WARN: Removed duplicated region for block: B:63:0x01bb  */
        /* JADX WARN: Removed duplicated region for block: B:74:0x01fc  */
        /* renamed from: a */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void m27626a(byte[] r17, int r18, int r19) {
            /*
                Method dump skipped, instructions count: 635
                To view this dump add '--comments-level debug' option
            */
            throw new UnsupportedOperationException("Method not decompiled: p131c.p161d.p170b.p188c.p210w0.p217x.C3171q.C3173b.m27626a(byte[], int, int):void");
        }

        /* renamed from: a */
        public boolean m27632a() {
            return this.f11636c;
        }

        /* JADX WARN: Code restructure failed: missing block: B:22:0x0088, code lost:
            if (r0 == 1) goto L_0x008b;
         */
        /* renamed from: a */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public boolean m27629a(long r8, int r10, boolean r11, boolean r12) {
            /*
                r7 = this;
                r0 = r7
                int r0 = r0.f11642i
                r13 = r0
                r0 = 0
                r14 = r0
                r0 = r13
                r1 = 9
                if (r0 == r1) goto L_0x0025
                r0 = r7
                boolean r0 = r0.f11636c
                if (r0 == 0) goto L_0x0058
                r0 = r7
                c.d.b.c.w0.x.q$b$a r0 = r0.f11647n
                r1 = r7
                c.d.b.c.w0.x.q$b$a r1 = r1.f11646m
                boolean r0 = p131c.p161d.p170b.p188c.p210w0.p217x.C3171q.C3173b.C3174a.m27620a(r0, r1)
                if (r0 == 0) goto L_0x0058
            L_0x0025:
                r0 = r11
                if (r0 == 0) goto L_0x003e
                r0 = r7
                boolean r0 = r0.f11648o
                if (r0 == 0) goto L_0x003e
                r0 = r7
                r1 = r10
                r2 = r8
                r3 = r7
                long r3 = r3.f11643j
                long r2 = r2 - r3
                int r2 = (int) r2
                int r1 = r1 + r2
                r0.m27631a(r1)
            L_0x003e:
                r0 = r7
                r1 = r7
                long r1 = r1.f11643j
                r0.f11649p = r1
                r0 = r7
                r1 = r7
                long r1 = r1.f11645l
                r0.f11650q = r1
                r0 = r7
                r1 = 0
                r0.f11651r = r1
                r0 = r7
                r1 = 1
                r0.f11648o = r1
            L_0x0058:
                r0 = r7
                boolean r0 = r0.f11635b
                if (r0 == 0) goto L_0x0068
                r0 = r7
                c.d.b.c.w0.x.q$b$a r0 = r0.f11647n
                boolean r0 = r0.m27619b()
                r12 = r0
            L_0x0068:
                r0 = r7
                boolean r0 = r0.f11651r
                r11 = r0
                r0 = r7
                int r0 = r0.f11642i
                r13 = r0
                r0 = r13
                r1 = 5
                if (r0 == r1) goto L_0x008b
                r0 = r14
                r10 = r0
                r0 = r12
                if (r0 == 0) goto L_0x008d
                r0 = r14
                r10 = r0
                r0 = r13
                r1 = 1
                if (r0 != r1) goto L_0x008d
            L_0x008b:
                r0 = 1
                r10 = r0
            L_0x008d:
                r0 = r11
                r1 = r10
                r0 = r0 | r1
                r11 = r0
                r0 = r7
                r1 = r11
                r0.f11651r = r1
                r0 = r11
                return r0
            */
            throw new UnsupportedOperationException("Method not decompiled: p131c.p161d.p170b.p188c.p210w0.p217x.C3171q.C3173b.m27629a(long, int, boolean, boolean):boolean");
        }

        /* renamed from: b */
        public void m27625b() {
            this.f11644k = false;
            this.f11648o = false;
            this.f11647n.m27624a();
        }
    }

    public C3171q(C3142c0 c0Var, boolean z, boolean z2) {
        this.f11619a = c0Var;
        this.f11620b = z;
        this.f11621c = z2;
    }

    @Override // p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3168o
    /* renamed from: a */
    public void mo27599a() {
        C2899s.m28572a(this.f11626h);
        this.f11622d.m27588b();
        this.f11623e.m27588b();
        this.f11624f.m27588b();
        this.f11629k.m27625b();
        this.f11625g = 0L;
        this.f11632n = false;
    }

    @Override // p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3168o
    /* renamed from: a */
    public void mo27598a(long j, int i) {
        this.f11631m = j;
        this.f11632n |= (i & 2) != 0;
    }

    /* renamed from: a */
    public final void m27635a(long j, int i, int i2, long j2) {
        if (!this.f11630l || this.f11629k.m27632a()) {
            this.f11622d.m27590a(i2);
            this.f11623e.m27590a(i2);
            if (!this.f11630l) {
                if (this.f11622d.m27591a() && this.f11623e.m27591a()) {
                    ArrayList arrayList = new ArrayList();
                    C3180v vVar = this.f11622d;
                    arrayList.add(Arrays.copyOf(vVar.f11736d, vVar.f11737e));
                    C3180v vVar2 = this.f11623e;
                    arrayList.add(Arrays.copyOf(vVar2.f11736d, vVar2.f11737e));
                    C3180v vVar3 = this.f11622d;
                    C2899s.C2901b c = C2899s.m28568c(vVar3.f11736d, 3, vVar3.f11737e);
                    C3180v vVar4 = this.f11623e;
                    C2899s.C2900a b = C2899s.m28570b(vVar4.f11736d, 3, vVar4.f11737e);
                    this.f11628j.mo28034a(Format.m18702a(this.f11627i, "video/avc", C2884h.m28692b(c.f10513a, c.f10514b, c.f10515c), -1, -1, c.f10517e, c.f10518f, -1.0f, arrayList, -1, c.f10519g, (DrmInitData) null));
                    this.f11630l = true;
                    this.f11629k.m27627a(c);
                    this.f11629k.m27628a(b);
                    this.f11622d.m27588b();
                    this.f11623e.m27588b();
                }
            } else if (this.f11622d.m27591a()) {
                C3180v vVar5 = this.f11622d;
                this.f11629k.m27627a(C2899s.m28568c(vVar5.f11736d, 3, vVar5.f11737e));
                this.f11622d.m27588b();
            } else if (this.f11623e.m27591a()) {
                C3180v vVar6 = this.f11623e;
                this.f11629k.m27628a(C2899s.m28570b(vVar6.f11736d, 3, vVar6.f11737e));
                this.f11623e.m27588b();
            }
        }
        if (this.f11624f.m27590a(i2)) {
            C3180v vVar7 = this.f11624f;
            this.f11633o.m28547a(this.f11624f.f11736d, C2899s.m28569c(vVar7.f11736d, vVar7.f11737e));
            this.f11633o.m28538e(4);
            this.f11619a.m27725a(j2, this.f11633o);
        }
        if (this.f11629k.m27629a(j, i, this.f11630l, this.f11632n)) {
            this.f11632n = false;
        }
    }

    /* renamed from: a */
    public final void m27634a(long j, int i, long j2) {
        if (!this.f11630l || this.f11629k.m27632a()) {
            this.f11622d.m27587b(i);
            this.f11623e.m27587b(i);
        }
        this.f11624f.m27587b(i);
        this.f11629k.m27630a(j, i, j2);
    }

    @Override // p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3168o
    /* renamed from: a */
    public void mo27597a(C2904v vVar) {
        int c = vVar.m28543c();
        int d = vVar.m28541d();
        byte[] bArr = vVar.f10530a;
        this.f11625g += vVar.m28552a();
        this.f11628j.mo28036a(vVar, vVar.m28552a());
        while (true) {
            int a = C2899s.m28573a(bArr, c, d, this.f11626h);
            if (a == d) {
                m27633a(bArr, c, d);
                return;
            }
            int b = C2899s.m28571b(bArr, a);
            int i = a - c;
            if (i > 0) {
                m27633a(bArr, c, a);
            }
            int i2 = d - a;
            long j = this.f11625g - i2;
            m27635a(j, i2, i < 0 ? -i : 0, this.f11631m);
            m27634a(j, b, this.f11631m);
            c = a + 3;
        }
    }

    @Override // p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3168o
    /* renamed from: a */
    public void mo27596a(AbstractC3044i iVar, AbstractC3155h0.C3159d dVar) {
        dVar.m27684a();
        this.f11627i = dVar.m27683b();
        AbstractC3054q a = iVar.mo28048a(dVar.m27682c(), 2);
        this.f11628j = a;
        this.f11629k = new C3173b(a, this.f11620b, this.f11621c);
        this.f11619a.m27724a(iVar, dVar);
    }

    /* renamed from: a */
    public final void m27633a(byte[] bArr, int i, int i2) {
        if (!this.f11630l || this.f11629k.m27632a()) {
            this.f11622d.m27589a(bArr, i, i2);
            this.f11623e.m27589a(bArr, i, i2);
        }
        this.f11624f.m27589a(bArr, i, i2);
        this.f11629k.m27626a(bArr, i, i2);
    }

    @Override // p131c.p161d.p170b.p188c.p210w0.p217x.AbstractC3168o
    /* renamed from: b */
    public void mo27595b() {
    }
}
