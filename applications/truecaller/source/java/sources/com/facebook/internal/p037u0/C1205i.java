package com.facebook.internal.p037u0;

import android.os.Build;
import com.facebook.internal.C1168q0;
import com.huawei.hms.push.constant.RemoteMessageConst;
import com.mopub.common.AdType;
import com.razorpay.AnalyticsConstants;
import java.io.File;
import kotlin.Metadata;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import s1.f0.r;
import s1.z.c.f;
import s1.z.c.l;
@Metadata(d1 = {"��V\n\u0002\u0018\u0002\n\u0002\u0010��\n��\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u0003\n��\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0010\u000e\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0010\u000b\n\u0002\b\u0005\n\u0002\u0010\t\n\u0002\b\u0003\n\u0002\u0010\u0002\n��\n\u0002\u0010\b\n\u0002\b\u0007\b\u0007\u0018�� -2\u00020\u0001:\u0003,-.B\u000f\b\u0012\u0012\u0006\u0010\u0002\u001a\u00020\u0003¢\u0006\u0002\u0010\u0004B\u0019\b\u0012\u0012\b\u0010\u0005\u001a\u0004\u0018\u00010\u0006\u0012\u0006\u0010\u0007\u001a\u00020\b¢\u0006\u0002\u0010\tB\u001b\b\u0012\u0012\b\u0010\n\u001a\u0004\u0018\u00010\u000b\u0012\b\u0010\f\u001a\u0004\u0018\u00010\u000b¢\u0006\u0002\u0010\rB\u000f\b\u0012\u0012\u0006\u0010\u000e\u001a\u00020\u000f¢\u0006\u0002\u0010\u0010J\u0006\u0010%\u001a\u00020&J\u0011\u0010'\u001a\u00020(2\u0006\u0010)\u001a\u00020��H\u0086\u0002J\u0006\u0010*\u001a\u00020&J\b\u0010+\u001a\u00020\u000bH\u0016R\u0016\u0010\u0011\u001a\u0004\u0018\u00010\u00128BX\u0082\u0004¢\u0006\u0006\u001a\u0004\b\u0013\u0010\u0014R\u0010\u0010\u0015\u001a\u0004\u0018\u00010\u000bX\u0082\u000e¢\u0006\u0002\n��R\u0010\u0010\u0016\u001a\u0004\u0018\u00010\u000bX\u0082\u000e¢\u0006\u0002\n��R\u0016\u0010\u0017\u001a\u0004\u0018\u00010\u00128BX\u0082\u0004¢\u0006\u0006\u001a\u0004\b\u0018\u0010\u0014R\u0010\u0010\u0019\u001a\u0004\u0018\u00010\u0003X\u0082\u000e¢\u0006\u0002\n��R\u000e\u0010\u001a\u001a\u00020\u000bX\u0082\u000e¢\u0006\u0002\n��R\u0011\u0010\u001b\u001a\u00020\u001c8F¢\u0006\u0006\u001a\u0004\b\u001b\u0010\u001dR\u0016\u0010\u001e\u001a\u0004\u0018\u00010\u00128BX\u0082\u0004¢\u0006\u0006\u001a\u0004\b\u001f\u0010\u0014R\u0010\u0010 \u001a\u0004\u0018\u00010\u000bX\u0082\u000e¢\u0006\u0002\n��R\u0012\u0010!\u001a\u0004\u0018\u00010\"X\u0082\u000e¢\u0006\u0004\n\u0002\u0010#R\u0010\u0010$\u001a\u0004\u0018\u00010\bX\u0082\u000e¢\u0006\u0002\n��¨\u0006/"}, d2 = {"Lcom/facebook/internal/instrument/InstrumentData;", "", "features", "Lorg/json/JSONArray;", "(Lorg/json/JSONArray;)V", "e", "", "t", "Lcom/facebook/internal/instrument/InstrumentData$Type;", "(Ljava/lang/Throwable;Lcom/facebook/internal/instrument/InstrumentData$Type;)V", "anrCause", "", "st", "(Ljava/lang/String;Ljava/lang/String;)V", "file", "Ljava/io/File;", "(Ljava/io/File;)V", "analysisReportParameters", "Lorg/json/JSONObject;", "getAnalysisReportParameters", "()Lorg/json/JSONObject;", "appVersion", "cause", "exceptionReportParameters", "getExceptionReportParameters", "featureNames", "filename", "isValid", "", "()Z", "parameters", "getParameters", "stackTrace", "timestamp", "", "Ljava/lang/Long;", "type", AdType.CLEAR, "", "compareTo", "", RemoteMessageConst.DATA, "save", "toString", "Builder", "Companion", "Type", "facebook-core_release"}, k = 1, mv = {1, 5, 1}, xi = 48)
/* renamed from: com.facebook.internal.u0.i */
/* loaded from: classes2-dex2jar.jar:com/facebook/internal/u0/i.class */
public final class C1205i {

    /* renamed from: h */
    public static final C1207b f3266h = new C1207b(null);

    /* renamed from: a */
    public String f3267a;

    /* renamed from: b */
    public EnumC1208c f3268b;

    /* renamed from: c */
    public JSONArray f3269c;

    /* renamed from: d */
    public String f3270d;

    /* renamed from: e */
    public String f3271e;

    /* renamed from: f */
    public String f3272f;

    /* renamed from: g */
    public Long f3273g;

    @Metadata(d1 = {"��4\n\u0002\u0018\u0002\n\u0002\u0010��\n\u0002\b\u0002\n\u0002\u0018\u0002\n��\n\u0002\u0010\u000e\n\u0002\b\u0002\n\u0002\u0010\u0003\n��\n\u0002\u0018\u0002\n��\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n��\bÆ\u0002\u0018��2\u00020\u0001B\u0007\b\u0002¢\u0006\u0002\u0010\u0002J\u001c\u0010\u0003\u001a\u00020\u00042\b\u0010\u0005\u001a\u0004\u0018\u00010\u00062\b\u0010\u0007\u001a\u0004\u0018\u00010\u0006H\u0007J\u001a\u0010\u0003\u001a\u00020\u00042\b\u0010\b\u001a\u0004\u0018\u00010\t2\u0006\u0010\n\u001a\u00020\u000bH\u0007J\u0010\u0010\u0003\u001a\u00020\u00042\u0006\u0010\f\u001a\u00020\rH\u0007J\u0010\u0010\u000e\u001a\u00020\u00042\u0006\u0010\u000f\u001a\u00020\u0010H\u0007¨\u0006\u0011"}, d2 = {"Lcom/facebook/internal/instrument/InstrumentData$Builder;", "", "()V", "build", "Lcom/facebook/internal/instrument/InstrumentData;", "anrCause", "", "st", "e", "", "t", "Lcom/facebook/internal/instrument/InstrumentData$Type;", "features", "Lorg/json/JSONArray;", "load", "file", "Ljava/io/File;", "facebook-core_release"}, k = 1, mv = {1, 5, 1}, xi = 48)
    /* renamed from: com.facebook.internal.u0.i$a */
    /* loaded from: classes2-dex2jar.jar:com/facebook/internal/u0/i$a.class */
    public static final class C1206a {
        /* renamed from: a */
        public static final C1205i m41634a(File file) {
            l.e(file, "file");
            return new C1205i(file, (f) null);
        }
    }

    @Metadata(d1 = {"��\u001c\n\u0002\u0018\u0002\n\u0002\u0010��\n\u0002\b\u0002\n\u0002\u0010\u000e\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\b\u0002\b\u0086\u0003\u0018��2\u00020\u0001B\u0007\b\u0002¢\u0006\u0002\u0010\u0002J\u0010\u0010\r\u001a\u00020\u000e2\u0006\u0010\u000f\u001a\u00020\u0004H\u0002R\u000e\u0010\u0003\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\u0005\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\u0006\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\u0007\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\b\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\t\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\n\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\u000b\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��R\u000e\u0010\f\u001a\u00020\u0004X\u0082T¢\u0006\u0002\n��¨\u0006\u0010"}, d2 = {"Lcom/facebook/internal/instrument/InstrumentData$Companion;", "", "()V", "PARAM_APP_VERSION", "", "PARAM_CALLSTACK", "PARAM_DEVICE_MODEL", "PARAM_DEVICE_OS", "PARAM_FEATURE_NAMES", "PARAM_REASON", "PARAM_TIMESTAMP", "PARAM_TYPE", "UNKNOWN", "getType", "Lcom/facebook/internal/instrument/InstrumentData$Type;", "filename", "facebook-core_release"}, k = 1, mv = {1, 5, 1}, xi = 48)
    /* renamed from: com.facebook.internal.u0.i$b */
    /* loaded from: classes2-dex2jar.jar:com/facebook/internal/u0/i$b.class */
    public static final class C1207b {
        public C1207b(f fVar) {
        }
    }

    @Metadata(d1 = {"��\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0010\n\u0002\b\u0002\n\u0002\u0010\u000e\n\u0002\b\n\b\u0086\u0001\u0018��2\b\u0012\u0004\u0012\u00020��0\u0001B\u0007\b\u0002¢\u0006\u0002\u0010\u0002J\b\u0010\u0007\u001a\u00020\u0004H\u0016R\u0011\u0010\u0003\u001a\u00020\u00048F¢\u0006\u0006\u001a\u0004\b\u0005\u0010\u0006j\u0002\b\bj\u0002\b\tj\u0002\b\nj\u0002\b\u000bj\u0002\b\fj\u0002\b\r¨\u0006\u000e"}, d2 = {"Lcom/facebook/internal/instrument/InstrumentData$Type;", "", "(Ljava/lang/String;I)V", "logPrefix", "", "getLogPrefix", "()Ljava/lang/String;", "toString", "Unknown", "Analysis", "AnrReport", "CrashReport", "CrashShield", "ThreadCheck", "facebook-core_release"}, k = 1, mv = {1, 5, 1}, xi = 48)
    /* renamed from: com.facebook.internal.u0.i$c */
    /* loaded from: classes2-dex2jar.jar:com/facebook/internal/u0/i$c.class */
    public enum EnumC1208c {
        Unknown,
        Analysis,
        AnrReport,
        CrashReport,
        CrashShield,
        ThreadCheck;

        @Override // java.lang.Enum
        public String toString() {
            int ordinal = ordinal();
            return ordinal != 1 ? ordinal != 2 ? ordinal != 3 ? ordinal != 4 ? ordinal != 5 ? "Unknown" : "ThreadCheck" : "CrashShield" : "CrashReport" : "AnrReport" : "Analysis";
        }
    }

    @Metadata(k = 3, mv = {1, 5, 1}, xi = 48)
    /* renamed from: com.facebook.internal.u0.i$d */
    /* loaded from: classes2-dex2jar.jar:com/facebook/internal/u0/i$d.class */
    public final /* synthetic */ class C1209d {

        /* renamed from: a */
        public static final /* synthetic */ int[] f3281a = {0, 1, 2, 3, 4, 5};

        static {
            EnumC1208c.values();
        }
    }

    public C1205i(File file, f fVar) {
        String name = file.getName();
        l.d(name, "file.name");
        this.f3267a = name;
        this.f3268b = r.y(name, "crash_log_", false, 2) ? EnumC1208c.CrashReport : r.y(name, "shield_log_", false, 2) ? EnumC1208c.CrashShield : r.y(name, "thread_check_log_", false, 2) ? EnumC1208c.ThreadCheck : r.y(name, "analysis_log_", false, 2) ? EnumC1208c.Analysis : r.y(name, "anr_log_", false, 2) ? EnumC1208c.AnrReport : EnumC1208c.Unknown;
        JSONObject m41630d = C1210j.m41630d(this.f3267a, true);
        if (m41630d != null) {
            this.f3273g = Long.valueOf(m41630d.optLong("timestamp", 0L));
            this.f3270d = m41630d.optString("app_version", null);
            this.f3271e = m41630d.optString("reason", null);
            this.f3272f = m41630d.optString("callstack", null);
            this.f3269c = m41630d.optJSONArray("feature_names");
        }
    }

    public C1205i(String str, String str2, f fVar) {
        this.f3268b = EnumC1208c.AnrReport;
        this.f3270d = C1168q0.m41669n();
        this.f3271e = str;
        this.f3272f = str2;
        this.f3273g = Long.valueOf(System.currentTimeMillis() / 1000);
        StringBuffer stringBuffer = new StringBuffer();
        stringBuffer.append("anr_log_");
        stringBuffer.append(String.valueOf(this.f3273g));
        stringBuffer.append(".json");
        String stringBuffer2 = stringBuffer.toString();
        l.d(stringBuffer2, "StringBuffer()\n            .append(InstrumentUtility.ANR_REPORT_PREFIX)\n            .append(timestamp.toString())\n            .append(\".json\")\n            .toString()");
        this.f3267a = stringBuffer2;
    }

    public C1205i(Throwable th, EnumC1208c enumC1208c, f fVar) {
        String str;
        this.f3268b = enumC1208c;
        this.f3270d = C1168q0.m41669n();
        this.f3271e = th == null ? null : th.getCause() == null ? th.toString() : String.valueOf(th.getCause());
        if (th == null) {
            str = null;
        } else {
            JSONArray jSONArray = new JSONArray();
            Throwable th2 = null;
            while (th != null && th != th2) {
                StackTraceElement[] stackTrace = th.getStackTrace();
                l.d(stackTrace, "t.stackTrace");
                int i = 0;
                int length = stackTrace.length;
                while (i < length) {
                    i++;
                    jSONArray.put(stackTrace[i].toString());
                }
                th2 = th;
                th = th.getCause();
            }
            str = jSONArray.toString();
        }
        this.f3272f = str;
        this.f3273g = Long.valueOf(System.currentTimeMillis() / 1000);
        StringBuffer stringBuffer = new StringBuffer();
        int ordinal = enumC1208c.ordinal();
        stringBuffer.append(ordinal != 1 ? ordinal != 2 ? ordinal != 3 ? ordinal != 4 ? ordinal != 5 ? "Unknown" : "thread_check_log_" : "shield_log_" : "crash_log_" : "anr_log_" : "analysis_log_");
        stringBuffer.append(String.valueOf(this.f3273g));
        stringBuffer.append(".json");
        String stringBuffer2 = stringBuffer.toString();
        l.d(stringBuffer2, "StringBuffer().append(t.logPrefix).append(timestamp.toString()).append(\".json\").toString()");
        this.f3267a = stringBuffer2;
    }

    public C1205i(JSONArray jSONArray, f fVar) {
        this.f3268b = EnumC1208c.Analysis;
        this.f3273g = Long.valueOf(System.currentTimeMillis() / 1000);
        this.f3269c = jSONArray;
        StringBuffer stringBuffer = new StringBuffer();
        stringBuffer.append("analysis_log_");
        stringBuffer.append(String.valueOf(this.f3273g));
        stringBuffer.append(".json");
        String stringBuffer2 = stringBuffer.toString();
        l.d(stringBuffer2, "StringBuffer()\n            .append(InstrumentUtility.ANALYSIS_REPORT_PREFIX)\n            .append(timestamp.toString())\n            .append(\".json\")\n            .toString()");
        this.f3267a = stringBuffer2;
    }

    /* renamed from: a */
    public final int m41637a(C1205i c1205i) {
        l.e(c1205i, RemoteMessageConst.DATA);
        Long l = this.f3273g;
        int i = -1;
        if (l == null) {
            return -1;
        }
        long longValue = l.longValue();
        Long l2 = c1205i.f3273g;
        if (l2 == null) {
            return 1;
        }
        int i2 = (l2.longValue() > longValue ? 1 : (l2.longValue() == longValue ? 0 : -1));
        if (i2 >= 0) {
            i = i2 == 0 ? 0 : 1;
        }
        return i;
    }

    /* JADX WARN: Code restructure failed: missing block: B:20:0x0049, code lost:
        if (r3.f3273g != null) goto L31;
     */
    /* JADX WARN: Code restructure failed: missing block: B:26:0x006a, code lost:
        if (r3.f3273g != null) goto L31;
     */
    /* JADX WARN: Code restructure failed: missing block: B:30:0x0081, code lost:
        if (r3.f3273g != null) goto L31;
     */
    /* JADX WARN: Code restructure failed: missing block: B:31:0x0084, code lost:
        r7 = true;
     */
    /* renamed from: b */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final boolean m41636b() {
        /*
            r3 = this;
            r0 = r3
            com.facebook.internal.u0.i$c r0 = r0.f3268b
            r4 = r0
            r0 = r4
            if (r0 != 0) goto Le
            r0 = -1
            r5 = r0
            goto L17
        Le:
            int[] r0 = com.facebook.internal.p037u0.C1205i.C1209d.f3281a
            r1 = r4
            int r1 = r1.ordinal()
            r0 = r0[r1]
            r5 = r0
        L17:
            r0 = 0
            r6 = r0
            r0 = r5
            r1 = 1
            if (r0 == r1) goto L70
            r0 = r5
            r1 = 2
            if (r0 == r1) goto L4f
            r0 = r5
            r1 = 3
            if (r0 == r1) goto L38
            r0 = r5
            r1 = 4
            if (r0 == r1) goto L38
            r0 = r5
            r1 = 5
            if (r0 == r1) goto L38
            r0 = r6
            r7 = r0
            goto L87
        L38:
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.String r0 = r0.f3272f
            if (r0 == 0) goto L87
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.Long r0 = r0.f3273g
            if (r0 == 0) goto L87
            goto L84
        L4f:
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.String r0 = r0.f3272f
            if (r0 == 0) goto L87
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.String r0 = r0.f3271e
            if (r0 == 0) goto L87
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.Long r0 = r0.f3273g
            if (r0 == 0) goto L87
            goto L84
        L70:
            r0 = r6
            r7 = r0
            r0 = r3
            org.json.JSONArray r0 = r0.f3269c
            if (r0 == 0) goto L87
            r0 = r6
            r7 = r0
            r0 = r3
            java.lang.Long r0 = r0.f3273g
            if (r0 == 0) goto L87
        L84:
            r0 = 1
            r7 = r0
        L87:
            r0 = r7
            return r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.facebook.internal.p037u0.C1205i.m41636b():boolean");
    }

    /* renamed from: c */
    public final void m41635c() {
        if (!m41636b()) {
            return;
        }
        C1210j.m41628f(this.f3267a, toString());
    }

    public String toString() {
        JSONObject jSONObject;
        EnumC1208c enumC1208c = this.f3268b;
        int i = enumC1208c == null ? -1 : C1209d.f3281a[enumC1208c.ordinal()];
        try {
            if (i == 1) {
                JSONObject jSONObject2 = new JSONObject();
                JSONArray jSONArray = this.f3269c;
                if (jSONArray != null) {
                    jSONObject2.put("feature_names", jSONArray);
                }
                Long l = this.f3273g;
                jSONObject = jSONObject2;
                if (l != null) {
                    jSONObject2.put("timestamp", l);
                    jSONObject = jSONObject2;
                }
            } else if (i == 2 || i == 3 || i == 4 || i == 5) {
                JSONObject jSONObject3 = new JSONObject();
                jSONObject3.put("device_os_version", Build.VERSION.RELEASE);
                jSONObject3.put(AnalyticsConstants.DEVICE_MODEL, Build.MODEL);
                String str = this.f3270d;
                if (str != null) {
                    jSONObject3.put("app_version", str);
                }
                Long l2 = this.f3273g;
                if (l2 != null) {
                    jSONObject3.put("timestamp", l2);
                }
                String str2 = this.f3271e;
                if (str2 != null) {
                    jSONObject3.put("reason", str2);
                }
                String str3 = this.f3272f;
                if (str3 != null) {
                    jSONObject3.put("callstack", str3);
                }
                EnumC1208c enumC1208c2 = this.f3268b;
                jSONObject = jSONObject3;
                if (enumC1208c2 != null) {
                    jSONObject3.put("type", enumC1208c2);
                    jSONObject = jSONObject3;
                }
            } else {
                jSONObject = null;
            }
        } catch (JSONException e) {
            jSONObject = null;
        }
        if (jSONObject == null) {
            String jSONObject4 = new JSONObject().toString();
            l.d(jSONObject4, "JSONObject().toString()");
            return jSONObject4;
        }
        String jSONObject5 = jSONObject.toString();
        l.d(jSONObject5, "params.toString()");
        return jSONObject5;
    }
}
