package p1727n3.p1874y.p1876b.p1877a.p1882q0.p1887u;

import android.support.p001v4.media.session.MediaSessionCompat;
import android.util.Pair;
import android.util.SparseArray;
import androidx.media2.exoplayer.external.Format;
import androidx.media2.exoplayer.external.drm.DrmInitData;
import androidx.recyclerview.widget.RecyclerView;
import java.io.IOException;
import java.util.ArrayDeque;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;
import java.util.Objects;
import p1727n3.p1874y.p1876b.p1877a.C27073c;
import p1727n3.p1874y.p1876b.p1877a.C27074c0;
import p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g;
import p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27180h;
import p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27190p;
import p1727n3.p1874y.p1876b.p1877a.p1882q0.C27176d;
import p1727n3.p1874y.p1876b.p1877a.p1882q0.p1887u.AbstractC27213a;
import p1727n3.p1874y.p1876b.p1877a.p1892s0.p1893f.C27322a;
import p1727n3.p1874y.p1876b.p1877a.p1904x0.C27430k;
import p1727n3.p1874y.p1876b.p1877a.p1904x0.C27434m;
import p1727n3.p1874y.p1876b.p1877a.p1904x0.C27443v;
import p1727n3.p1874y.p1876b.p1877a.p1904x0.C27445x;
import p193e.p1432d.p1439c.p1440a.C22128a;
/* renamed from: n3.y.b.a.q0.u.d */
/* loaded from: classes-dex2jar.jar:n3/y/b/a/q0/u/d.class */
public class C27221d implements AbstractC27179g {

    /* renamed from: I */
    public static final byte[] f76276I = {-94, 57, 79, 82, 90, -101, 79, 20, -94, 68, 108, 66, 124, 100, -115, -12};

    /* renamed from: J */
    public static final Format f76277J = Format.m42840m(null, "application/x-emsg", RecyclerView.FOREVER_NS);

    /* renamed from: A */
    public int f76278A;

    /* renamed from: B */
    public int f76279B;

    /* renamed from: C */
    public boolean f76280C;

    /* renamed from: D */
    public boolean f76281D;

    /* renamed from: E */
    public AbstractC27180h f76282E;

    /* renamed from: F */
    public AbstractC27190p[] f76283F;

    /* renamed from: G */
    public AbstractC27190p[] f76284G;

    /* renamed from: H */
    public boolean f76285H;

    /* renamed from: a */
    public final int f76286a;

    /* renamed from: b */
    public final List<Format> f76287b;

    /* renamed from: c */
    public final DrmInitData f76288c;

    /* renamed from: d */
    public final SparseArray<C27223b> f76289d;

    /* renamed from: e */
    public final C27434m f76290e;

    /* renamed from: f */
    public final C27434m f76291f;

    /* renamed from: g */
    public final C27434m f76292g;

    /* renamed from: h */
    public final byte[] f76293h;

    /* renamed from: i */
    public final C27434m f76294i;

    /* renamed from: j */
    public final C27443v f76295j;

    /* renamed from: k */
    public final C27322a f76296k;

    /* renamed from: l */
    public final C27434m f76297l;

    /* renamed from: m */
    public final ArrayDeque<AbstractC27213a.C27214a> f76298m;

    /* renamed from: n */
    public final ArrayDeque<C27222a> f76299n;

    /* renamed from: o */
    public int f76300o;

    /* renamed from: p */
    public int f76301p;

    /* renamed from: q */
    public long f76302q;

    /* renamed from: r */
    public int f76303r;

    /* renamed from: s */
    public C27434m f76304s;

    /* renamed from: t */
    public long f76305t;

    /* renamed from: u */
    public int f76306u;

    /* renamed from: v */
    public long f76307v;

    /* renamed from: w */
    public long f76308w;

    /* renamed from: x */
    public long f76309x;

    /* renamed from: y */
    public C27223b f76310y;

    /* renamed from: z */
    public int f76311z;

    /* renamed from: n3.y.b.a.q0.u.d$a */
    /* loaded from: classes-dex2jar.jar:n3/y/b/a/q0/u/d$a.class */
    public static final class C27222a {

        /* renamed from: a */
        public final long f76312a;

        /* renamed from: b */
        public final int f76313b;

        public C27222a(long j, int i) {
            this.f76312a = j;
            this.f76313b = i;
        }
    }

    /* renamed from: n3.y.b.a.q0.u.d$b */
    /* loaded from: classes-dex2jar.jar:n3/y/b/a/q0/u/d$b.class */
    public static final class C27223b {

        /* renamed from: a */
        public final AbstractC27190p f76314a;

        /* renamed from: c */
        public C27229i f76316c;

        /* renamed from: d */
        public C27220c f76317d;

        /* renamed from: e */
        public int f76318e;

        /* renamed from: f */
        public int f76319f;

        /* renamed from: g */
        public int f76320g;

        /* renamed from: h */
        public int f76321h;

        /* renamed from: b */
        public final C27231k f76315b = new C27231k();

        /* renamed from: i */
        public final C27434m f76322i = new C27434m(1);

        /* renamed from: j */
        public final C27434m f76323j = new C27434m();

        public C27223b(AbstractC27190p abstractC27190p) {
            this.f76314a = abstractC27190p;
        }

        /* renamed from: a */
        public final C27230j m685a() {
            C27231k c27231k = this.f76315b;
            int i = c27231k.f76367a.f76272a;
            C27230j c27230j = c27231k.f76380n;
            if (c27230j == null) {
                c27230j = this.f76316c.m671a(i);
            }
            if (c27230j == null || !c27230j.f76362a) {
                c27230j = null;
            }
            return c27230j;
        }

        /* renamed from: b */
        public void m684b(C27229i c27229i, C27220c c27220c) {
            Objects.requireNonNull(c27229i);
            this.f76316c = c27229i;
            Objects.requireNonNull(c27220c);
            this.f76317d = c27220c;
            this.f76314a.mo740c(c27229i.f76356f);
            m682d();
        }

        /* renamed from: c */
        public boolean m683c() {
            this.f76318e++;
            int i = this.f76319f + 1;
            this.f76319f = i;
            int[] iArr = this.f76315b.f76373g;
            int i2 = this.f76320g;
            if (i == iArr[i2]) {
                this.f76320g = i2 + 1;
                this.f76319f = 0;
                return false;
            }
            return true;
        }

        /* renamed from: d */
        public void m682d() {
            C27231k c27231k = this.f76315b;
            c27231k.f76370d = 0;
            c27231k.f76384r = 0L;
            c27231k.f76378l = false;
            c27231k.f76383q = false;
            c27231k.f76380n = null;
            this.f76318e = 0;
            this.f76320g = 0;
            this.f76319f = 0;
            this.f76321h = 0;
        }
    }

    public C27221d(int i, C27443v c27443v, C27229i c27229i, DrmInitData drmInitData, List<Format> list) {
        this.f76286a = i | (c27229i != null ? 8 : 0);
        this.f76295j = c27443v;
        this.f76288c = drmInitData;
        this.f76287b = Collections.unmodifiableList(list);
        this.f76296k = new C27322a();
        this.f76297l = new C27434m(16);
        this.f76290e = new C27434m(C27430k.f77176a);
        this.f76291f = new C27434m(5);
        this.f76292g = new C27434m();
        byte[] bArr = new byte[16];
        this.f76293h = bArr;
        this.f76294i = new C27434m(bArr);
        this.f76298m = new ArrayDeque<>();
        this.f76299n = new ArrayDeque<>();
        this.f76289d = new SparseArray<>();
        this.f76308w = -9223372036854775807L;
        this.f76307v = -9223372036854775807L;
        this.f76309x = -9223372036854775807L;
        m691b();
    }

    /* JADX WARN: Removed duplicated region for block: B:27:0x0113  */
    /* JADX WARN: Removed duplicated region for block: B:28:0x0119  */
    /* JADX WARN: Removed duplicated region for block: B:31:0x0128  */
    /* JADX WARN: Removed duplicated region for block: B:42:0x013b A[SYNTHETIC] */
    /* renamed from: e */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static androidx.media2.exoplayer.external.drm.DrmInitData m689e(java.util.List<p1727n3.p1874y.p1876b.p1877a.p1882q0.p1887u.AbstractC27213a.C27215b> r7) {
        /*
            Method dump skipped, instructions count: 361
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: p1727n3.p1874y.p1876b.p1877a.p1882q0.p1887u.C27221d.m689e(java.util.List):androidx.media2.exoplayer.external.drm.DrmInitData");
    }

    /* renamed from: g */
    public static void m687g(C27434m c27434m, int i, C27231k c27231k) throws C27074c0 {
        c27434m.m315z(i + 8);
        int m337d = c27434m.m337d() & 16777215;
        if ((m337d & 1) == 0) {
            boolean z = (m337d & 2) != 0;
            int m323r = c27434m.m323r();
            if (m323r != c27231k.f76371e) {
                throw new C27074c0(C22128a.m8683N1(41, "Length mismatch: ", m323r, ", ", c27231k.f76371e));
            }
            Arrays.fill(c27231k.f76379m, 0, m323r, z);
            c27231k.m670a(c27434m.m340a());
            c27434m.m338c(c27231k.f76382p.f77200a, 0, c27231k.f76381o);
            c27231k.f76382p.m315z(0);
            c27231k.f76383q = false;
            return;
        }
        throw new C27074c0("Overriding TrackEncryptionBox parameters is unsupported.");
    }

    @Override // p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g
    /* renamed from: a */
    public void mo606a(long j, long j2) {
        int size = this.f76289d.size();
        for (int i = 0; i < size; i++) {
            this.f76289d.valueAt(i).m682d();
        }
        this.f76299n.clear();
        this.f76306u = 0;
        this.f76307v = j2;
        this.f76298m.clear();
        this.f76281D = false;
        m691b();
    }

    /* renamed from: b */
    public final void m691b() {
        this.f76300o = 0;
        this.f76303r = 0;
    }

    /* renamed from: c */
    public final C27220c m690c(SparseArray<C27220c> sparseArray, int i) {
        if (sparseArray.size() == 1) {
            return sparseArray.valueAt(0);
        }
        C27220c c27220c = sparseArray.get(i);
        Objects.requireNonNull(c27220c);
        return c27220c;
    }

    @Override // p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g
    /* renamed from: d */
    public void mo605d(AbstractC27180h abstractC27180h) {
        this.f76282E = abstractC27180h;
    }

    /* renamed from: f */
    public final void m688f() {
        int i;
        if (this.f76283F == null) {
            AbstractC27190p[] abstractC27190pArr = new AbstractC27190p[2];
            this.f76283F = abstractC27190pArr;
            if ((this.f76286a & 4) != 0) {
                abstractC27190pArr[0] = this.f76282E.m750i(this.f76289d.size(), 4);
                i = 1;
            } else {
                i = 0;
            }
            AbstractC27190p[] abstractC27190pArr2 = (AbstractC27190p[]) Arrays.copyOf(this.f76283F, i);
            this.f76283F = abstractC27190pArr2;
            for (AbstractC27190p abstractC27190p : abstractC27190pArr2) {
                abstractC27190p.mo740c(f76277J);
            }
        }
        if (this.f76284G == null) {
            this.f76284G = new AbstractC27190p[this.f76287b.size()];
            for (int i2 = 0; i2 < this.f76284G.length; i2++) {
                AbstractC27190p m750i = this.f76282E.m750i(this.f76289d.size() + 1 + i2, 3);
                m750i.mo740c(this.f76287b.get(i2));
                this.f76284G[i2] = m750i;
            }
        }
    }

    @Override // p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g
    /* renamed from: h */
    public boolean mo604h(C27176d c27176d) throws IOException, InterruptedException {
        return C27228h.m672a(c27176d, true);
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:121:0x055e  */
    /* JADX WARN: Removed duplicated region for block: B:349:0x0643 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:360:0x0e3e A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:365:0x0002 A[SYNTHETIC] */
    /* JADX WARN: Removed duplicated region for block: B:369:0x0002 A[SYNTHETIC] */
    /* JADX WARN: Type inference failed for: r0v186, types: [long] */
    /* JADX WARN: Type inference failed for: r0v25, types: [long] */
    /* JADX WARN: Type inference failed for: r0v343, types: [long] */
    /* JADX WARN: Type inference failed for: r0v384, types: [long] */
    /* JADX WARN: Type inference failed for: r0v489, types: [long] */
    /* JADX WARN: Type inference failed for: r0v510, types: [long] */
    /* JADX WARN: Type inference failed for: r0v517, types: [long] */
    /* JADX WARN: Type inference failed for: r0v519, types: [long] */
    /* JADX WARN: Type inference failed for: r0v522, types: [long] */
    /* JADX WARN: Type inference failed for: r0v528, types: [long] */
    /* JADX WARN: Type inference failed for: r0v531, types: [long] */
    /* JADX WARN: Type inference failed for: r0v533, types: [long] */
    /* JADX WARN: Type inference failed for: r0v555, types: [long] */
    /* JADX WARN: Type inference failed for: r0v557, types: [long] */
    /* JADX WARN: Type inference failed for: r0v58, types: [long] */
    /* JADX WARN: Type inference failed for: r0v590, types: [long] */
    /* JADX WARN: Type inference failed for: r0v592, types: [long] */
    /* JADX WARN: Type inference failed for: r0v596, types: [long] */
    /* JADX WARN: Type inference failed for: r0v598, types: [long] */
    /* JADX WARN: Type inference failed for: r0v600, types: [long] */
    /* JADX WARN: Type inference failed for: r0v602, types: [long] */
    /* JADX WARN: Type inference failed for: r0v604, types: [long] */
    /* JADX WARN: Type inference failed for: r0v72, types: [long] */
    /* JADX WARN: Type inference failed for: r0v728, types: [long] */
    /* JADX WARN: Type inference failed for: r0v743, types: [long] */
    /* JADX WARN: Unsupported multi-entry loop pattern (BACK_EDGE: B:118:0x053f -> B:119:0x0546). Please submit an issue!!! */
    @Override // p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g
    /* renamed from: i */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public int mo603i(p1727n3.p1874y.p1876b.p1877a.p1882q0.C27176d r11, p1727n3.p1874y.p1876b.p1877a.p1882q0.C27185m r12) throws java.io.IOException, java.lang.InterruptedException {
        /*
            Method dump skipped, instructions count: 3670
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: p1727n3.p1874y.p1876b.p1877a.p1882q0.p1887u.C27221d.mo603i(n3.y.b.a.q0.d, n3.y.b.a.q0.m):int");
    }

    /* JADX WARN: Type inference failed for: r0v103, types: [long] */
    /* JADX WARN: Type inference failed for: r0v105, types: [long] */
    /* JADX WARN: Type inference failed for: r0v226, types: [long] */
    /* JADX WARN: Type inference failed for: r0v399, types: [long] */
    /* JADX WARN: Type inference failed for: r0v401, types: [long] */
    /* JADX WARN: Type inference failed for: r0v516, types: [long] */
    /* JADX WARN: Type inference failed for: r0v544, types: [long] */
    /* JADX WARN: Type inference failed for: r0v560, types: [long] */
    /* JADX WARN: Type inference failed for: r0v621, types: [long] */
    /* JADX WARN: Type inference failed for: r0v623, types: [long] */
    /* renamed from: j */
    public final void m686j(long j) throws C27074c0 {
        int i;
        int i2;
        int i3;
        int i4;
        byte[] bArr;
        int i5;
        boolean z;
        char c;
        int i6;
        C27221d c27221d = this;
        while (!c27221d.f76298m.isEmpty() && c27221d.f76298m.peek().f76259b == j) {
            AbstractC27213a.C27214a pop = c27221d.f76298m.pop();
            int i7 = pop.f76258a;
            int i8 = 8;
            if (i7 == 1836019574) {
                DrmInitData drmInitData = c27221d.f76288c;
                if (drmInitData == null) {
                    drmInitData = m689e(pop.f76260c);
                }
                AbstractC27213a.C27214a m700b = pop.m700b(1836475768);
                SparseArray<C27220c> sparseArray = new SparseArray<>();
                int size = m700b.f76260c.size();
                int i9 = 0;
                char c2 = 1;
                while (i9 < size) {
                    AbstractC27213a.C27215b c27215b = m700b.f76260c.get(i9);
                    int i10 = c27215b.f76258a;
                    if (i10 == 1953654136) {
                        C27434m c27434m = c27215b.f76262b;
                        c27434m.m315z(12);
                        Pair create = Pair.create(Integer.valueOf(c27434m.m337d()), new C27220c(c27434m.m323r() - 1, c27434m.m323r(), c27434m.m323r(), c27434m.m337d()));
                        sparseArray.put(((Integer) create.first).intValue(), (C27220c) create.second);
                    } else if (i10 == 1835362404) {
                        C27434m c27434m2 = c27215b.f76262b;
                        c27434m2.m315z(8);
                        c2 = ((c27434m2.m337d() >> 24) & 255) == 0 ? c27434m2.m325p() : c27434m2.m322s();
                    }
                    i9++;
                    c2 = c2;
                }
                SparseArray sparseArray2 = new SparseArray();
                int size2 = pop.f76261d.size();
                for (int i11 = 0; i11 < size2; i11++) {
                    AbstractC27213a.C27214a c27214a = pop.f76261d.get(i11);
                    if (c27214a.f76258a == 1953653099) {
                        C27229i m695d = C27216b.m695d(c27214a, pop.m699c(1836476516), c2, drmInitData, (c27221d.f76286a & 16) != 0, false);
                        if (m695d != null) {
                            sparseArray2.put(m695d.f76351a, m695d);
                        }
                    }
                }
                int size3 = sparseArray2.size();
                if (c27221d.f76289d.size() == 0) {
                    for (int i12 = 0; i12 < size3; i12++) {
                        C27229i c27229i = (C27229i) sparseArray2.valueAt(i12);
                        C27223b c27223b = new C27223b(c27221d.f76282E.m750i(i12, c27229i.f76352b));
                        c27223b.m684b(c27229i, c27221d.m690c(sparseArray, c27229i.f76351a));
                        c27221d.f76289d.put(c27229i.f76351a, c27223b);
                        c27221d.f76308w = Math.max(c27221d.f76308w, c27229i.f76355e);
                    }
                    m688f();
                    c27221d.f76282E.m751g();
                } else {
                    MediaSessionCompat.m43184y(c27221d.f76289d.size() == size3);
                    for (int i13 = 0; i13 < size3; i13++) {
                        C27229i c27229i2 = (C27229i) sparseArray2.valueAt(i13);
                        c27221d.f76289d.get(c27229i2.f76351a).m684b(c27229i2, c27221d.m690c(sparseArray, c27229i2.f76351a));
                    }
                }
            } else if (i7 == 1836019558) {
                SparseArray<C27223b> sparseArray3 = c27221d.f76289d;
                int i14 = c27221d.f76286a;
                byte[] bArr2 = c27221d.f76293h;
                int size4 = pop.f76261d.size();
                int i15 = 0;
                AbstractC27213a.C27214a c27214a2 = pop;
                C27221d c27221d2 = c27221d;
                while (i15 < size4) {
                    AbstractC27213a.C27214a c27214a3 = c27214a2.f76261d.get(i15);
                    if (c27214a3.f76258a == 1953653094) {
                        C27434m c27434m3 = c27214a3.m699c(1952868452).f76262b;
                        c27434m3.m315z(i8);
                        int m337d = c27434m3.m337d() & 16777215;
                        C27223b valueAt = sparseArray3.size() == 1 ? sparseArray3.valueAt(0) : sparseArray3.get(c27434m3.m337d());
                        if (valueAt == null) {
                            valueAt = null;
                        } else {
                            if ((m337d & 1) != 0) {
                                long m322s = c27434m3.m322s();
                                C27231k c27231k = valueAt.f76315b;
                                c27231k.f76368b = m322s;
                                c27231k.f76369c = m322s;
                            }
                            C27220c c27220c = valueAt.f76317d;
                            valueAt.f76315b.f76367a = new C27220c((m337d & 2) != 0 ? c27434m3.m323r() - 1 : c27220c.f76272a, (m337d & 8) != 0 ? c27434m3.m323r() : c27220c.f76273b, (m337d & 16) != 0 ? c27434m3.m323r() : c27220c.f76274c, (m337d & 32) != 0 ? c27434m3.m323r() : c27220c.f76275d);
                        }
                        if (valueAt != null) {
                            C27231k c27231k2 = valueAt.f76315b;
                            ?? r0 = c27231k2.f76384r;
                            valueAt.m682d();
                            char c3 = r0;
                            if (c27214a3.m699c(1952867444) != null) {
                                c3 = r0;
                                if ((i14 & 2) == 0) {
                                    C27434m c27434m4 = c27214a3.m699c(1952867444).f76262b;
                                    c27434m4.m315z(i8);
                                    c3 = ((c27434m4.m337d() >> 24) & 255) == 1 ? c27434m4.m322s() : c27434m4.m325p();
                                }
                            }
                            List<AbstractC27213a.C27215b> list = c27214a3.f76260c;
                            int size5 = list.size();
                            int i16 = 0;
                            int i17 = 0;
                            int i18 = 0;
                            while (true) {
                                i4 = i18;
                                if (i17 >= size5) {
                                    break;
                                }
                                AbstractC27213a.C27215b c27215b2 = list.get(i17);
                                int i19 = i16;
                                int i20 = i4;
                                if (c27215b2.f76258a == 1953658222) {
                                    C27434m c27434m5 = c27215b2.f76262b;
                                    c27434m5.m315z(12);
                                    int m323r = c27434m5.m323r();
                                    i19 = i16;
                                    i20 = i4;
                                    if (m323r > 0) {
                                        i19 = i16 + m323r;
                                        i20 = i4 + 1;
                                    }
                                }
                                i17++;
                                i16 = i19;
                                i18 = i20;
                            }
                            int i21 = size4;
                            valueAt.f76320g = 0;
                            valueAt.f76319f = 0;
                            valueAt.f76318e = 0;
                            C27231k c27231k3 = valueAt.f76315b;
                            c27231k3.f76370d = i4;
                            c27231k3.f76371e = i16;
                            int[] iArr = c27231k3.f76373g;
                            if (iArr == null || iArr.length < i4) {
                                c27231k3.f76372f = new long[i4];
                                c27231k3.f76373g = new int[i4];
                            }
                            int[] iArr2 = c27231k3.f76374h;
                            if (iArr2 == null || iArr2.length < i16) {
                                int i22 = (i16 * 125) / 100;
                                c27231k3.f76374h = new int[i22];
                                c27231k3.f76375i = new int[i22];
                                c27231k3.f76376j = new long[i22];
                                c27231k3.f76377k = new boolean[i22];
                                c27231k3.f76379m = new boolean[i22];
                            }
                            int i23 = 0;
                            int i24 = 0;
                            C27223b c27223b2 = valueAt;
                            for (int i25 = 0; i25 < size5; i25++) {
                                AbstractC27213a.C27215b c27215b3 = list.get(i25);
                                if (c27215b3.f76258a == 1953658222) {
                                    C27434m c27434m6 = c27215b3.f76262b;
                                    c27434m6.m315z(8);
                                    int m337d2 = c27434m6.m337d() & 16777215;
                                    C27229i c27229i3 = c27223b2.f76316c;
                                    C27231k c27231k4 = c27223b2.f76315b;
                                    C27220c c27220c2 = c27231k4.f76367a;
                                    c27231k4.f76373g[i23] = c27434m6.m323r();
                                    long[] jArr = c27231k4.f76372f;
                                    jArr[i23] = c27231k4.f76368b;
                                    if ((m337d2 & 1) != 0) {
                                        jArr[i23] = jArr[i23] + c27434m6.m337d();
                                    }
                                    boolean z2 = (m337d2 & 4) != 0;
                                    int i26 = c27220c2.f76275d;
                                    if (z2) {
                                        i26 = c27434m6.m323r();
                                    }
                                    boolean z3 = (m337d2 & 256) != 0;
                                    boolean z4 = (m337d2 & 512) != 0;
                                    boolean z5 = (m337d2 & 1024) != 0;
                                    boolean z6 = (m337d2 & 2048) != 0;
                                    long[] jArr2 = c27229i3.f76358h;
                                    boolean m261z = (jArr2 != null && jArr2.length == 1 && jArr2[0] == 0) ? C27445x.m261z(c27229i3.f76359i[0], 1000L, c27229i3.f76353c) : false;
                                    boolean z7 = z5;
                                    int[] iArr3 = c27231k4.f76374h;
                                    int[] iArr4 = c27231k4.f76375i;
                                    long[] jArr3 = c27231k4.f76376j;
                                    boolean[] zArr = c27231k4.f76377k;
                                    boolean z8 = c27229i3.f76352b == 2 && (i14 & 1) != 0;
                                    int i27 = c27231k4.f76373g[i23] + i24;
                                    long j2 = c27229i3.f76353c;
                                    if (i23 > 0) {
                                        i6 = i24;
                                        c = c27231k4.f76384r;
                                        z = z2;
                                        i24 = i27;
                                    } else {
                                        c = c3;
                                        i6 = i24;
                                        i24 = i27;
                                        z = z2;
                                    }
                                    while (i6 < i24) {
                                        int m323r2 = z3 ? c27434m6.m323r() : c27220c2.f76273b;
                                        int m323r3 = z4 ? c27434m6.m323r() : c27220c2.f76274c;
                                        int m337d3 = (i6 != 0 || !z) ? z7 ? c27434m6.m337d() : c27220c2.f76275d : i26;
                                        if (z6) {
                                            iArr4[i6] = (int) ((c27434m6.m337d() * 1000) / j2);
                                        } else {
                                            iArr4[i6] = 0;
                                        }
                                        jArr3[i6] = C27445x.m261z(c, 1000L, j2) - (m261z ? 1L : 0L);
                                        iArr3[i6] = m323r3;
                                        zArr[i6] = ((m337d3 >> 16) & 1) == 0 && (!z8 || i6 == 0);
                                        c += m323r2;
                                        i6++;
                                    }
                                    c27231k4.f76384r = c;
                                    i23++;
                                }
                            }
                            AbstractC27213a.C27214a c27214a4 = c27214a2;
                            int i28 = i14;
                            byte[] bArr3 = bArr2;
                            int i29 = i15;
                            C27230j m671a = c27223b2.f76316c.m671a(c27231k2.f76367a.f76272a);
                            AbstractC27213a.C27215b m699c = c27214a3.m699c(1935763834);
                            if (m699c != null) {
                                C27434m c27434m7 = m699c.f76262b;
                                int i30 = m671a.f76365d;
                                c27434m7.m315z(8);
                                if ((c27434m7.m337d() & 16777215 & 1) == 1) {
                                    c27434m7.m341A(8);
                                }
                                int m326o = c27434m7.m326o();
                                int m323r4 = c27434m7.m323r();
                                if (m323r4 != c27231k2.f76371e) {
                                    throw new C27074c0(C22128a.m8683N1(41, "Length mismatch: ", m323r4, ", ", c27231k2.f76371e));
                                }
                                if (m326o == 0) {
                                    boolean[] zArr2 = c27231k2.f76379m;
                                    int i31 = 0;
                                    int i32 = 0;
                                    while (true) {
                                        i5 = i32;
                                        if (i31 >= m323r4) {
                                            break;
                                        }
                                        int m326o2 = c27434m7.m326o();
                                        i32 += m326o2;
                                        zArr2[i31] = m326o2 > i30;
                                        i31++;
                                    }
                                } else {
                                    i5 = (m326o * m323r4) + 0;
                                    Arrays.fill(c27231k2.f76379m, 0, m323r4, m326o > i30);
                                }
                                c27231k2.m670a(i5);
                            }
                            AbstractC27213a.C27215b m699c2 = c27214a3.m699c(1935763823);
                            if (m699c2 != null) {
                                C27434m c27434m8 = m699c2.f76262b;
                                c27434m8.m315z(8);
                                int m337d4 = c27434m8.m337d();
                                if ((16777215 & m337d4 & 1) == 1) {
                                    c27434m8.m341A(8);
                                }
                                int m323r5 = c27434m8.m323r();
                                if (m323r5 != 1) {
                                    throw new C27074c0(C22128a.m8690L1(40, "Unexpected saio entry count: ", m323r5));
                                }
                                c27231k2.f76369c += ((m337d4 >> 24) & 255) == 0 ? c27434m8.m325p() : c27434m8.m322s();
                            }
                            AbstractC27213a.C27215b m699c3 = c27214a3.m699c(1936027235);
                            if (m699c3 != null) {
                                m687g(m699c3.f76262b, 0, c27231k2);
                            }
                            AbstractC27213a.C27215b m699c4 = c27214a3.m699c(1935828848);
                            AbstractC27213a.C27215b m699c5 = c27214a3.m699c(1936158820);
                            if (m699c4 != null && m699c5 != null) {
                                C27434m c27434m9 = m699c4.f76262b;
                                C27434m c27434m10 = m699c5.f76262b;
                                String str = m671a != null ? m671a.f76363b : null;
                                c27434m9.m315z(8);
                                int m337d5 = c27434m9.m337d();
                                if (c27434m9.m337d() == 1936025959) {
                                    if (((m337d5 >> 24) & 255) == 1) {
                                        c27434m9.m341A(4);
                                    }
                                    if (c27434m9.m337d() != 1) {
                                        throw new C27074c0("Entry count in sbgp != 1 (unsupported).");
                                    }
                                    c27434m10.m315z(8);
                                    int m337d6 = c27434m10.m337d();
                                    if (c27434m10.m337d() == 1936025959) {
                                        int i33 = (m337d6 >> 24) & 255;
                                        if (i33 == 1) {
                                            if (c27434m10.m325p() == 0) {
                                                throw new C27074c0("Variable length description in sgpd found (unsupported)");
                                            }
                                        } else if (i33 >= 2) {
                                            c27434m10.m341A(4);
                                        }
                                        if (c27434m10.m325p() != 1) {
                                            throw new C27074c0("Entry count in sgpd != 1 (unsupported).");
                                        }
                                        c27434m10.m341A(1);
                                        int m326o3 = c27434m10.m326o();
                                        boolean z9 = c27434m10.m326o() == 1;
                                        if (z9) {
                                            int m326o4 = c27434m10.m326o();
                                            byte[] bArr4 = new byte[16];
                                            System.arraycopy(c27434m10.f77200a, c27434m10.f77201b, bArr4, 0, 16);
                                            c27434m10.f77201b += 16;
                                            if (m326o4 == 0) {
                                                int m326o5 = c27434m10.m326o();
                                                bArr = new byte[m326o5];
                                                System.arraycopy(c27434m10.f77200a, c27434m10.f77201b, bArr, 0, m326o5);
                                                c27434m10.f77201b += m326o5;
                                            } else {
                                                bArr = null;
                                            }
                                            c27231k2.f76378l = true;
                                            c27231k2.f76380n = new C27230j(z9, str, m326o4, bArr4, (m326o3 & 240) >> 4, m326o3 & 15, bArr);
                                        }
                                    }
                                }
                            }
                            int size6 = c27214a3.f76260c.size();
                            for (int i34 = 0; i34 < size6; i34++) {
                                AbstractC27213a.C27215b c27215b4 = c27214a3.f76260c.get(i34);
                                if (c27215b4.f76258a == 1970628964) {
                                    C27434m c27434m11 = c27215b4.f76262b;
                                    c27434m11.m315z(8);
                                    System.arraycopy(c27434m11.f77200a, c27434m11.f77201b, bArr3, 0, 16);
                                    c27434m11.f77201b += 16;
                                    if (Arrays.equals(bArr3, f76276I)) {
                                        m687g(c27434m11, 16, c27231k2);
                                    }
                                }
                            }
                            i2 = 8;
                            bArr2 = bArr3;
                            i3 = i21;
                            c27214a2 = c27214a4;
                            i = i29;
                            i14 = i28;
                            c27221d2 = this;
                            i8 = i2;
                            size4 = i3;
                            i15 = i + 1;
                        }
                    }
                    i = i15;
                    i3 = size4;
                    i2 = i8;
                    c27221d2 = this;
                    i8 = i2;
                    size4 = i3;
                    i15 = i + 1;
                }
                DrmInitData m689e = c27221d2.f76288c != null ? null : m689e(c27214a2.f76260c);
                if (m689e != null) {
                    int size7 = c27221d2.f76289d.size();
                    for (int i35 = 0; i35 < size7; i35++) {
                        C27223b valueAt2 = c27221d2.f76289d.valueAt(i35);
                        C27230j m671a2 = valueAt2.f76316c.m671a(valueAt2.f76315b.f76367a.f76272a);
                        String str2 = m671a2 != null ? m671a2.f76363b : null;
                        AbstractC27190p abstractC27190p = valueAt2.f76314a;
                        Format format = valueAt2.f76316c.f76356f;
                        abstractC27190p.mo740c(format.m42851a(m689e.m42830a(str2), format.f958g));
                    }
                }
                c27221d = c27221d2;
                if (c27221d2.f76307v != -9223372036854775807L) {
                    int size8 = c27221d2.f76289d.size();
                    for (int i36 = 0; i36 < size8; i36++) {
                        C27223b valueAt3 = c27221d2.f76289d.valueAt(i36);
                        long j3 = c27221d2.f76307v;
                        Objects.requireNonNull(valueAt3);
                        long m947b = C27073c.m947b(j3);
                        int i37 = valueAt3.f76318e;
                        while (true) {
                            C27231k c27231k5 = valueAt3.f76315b;
                            if (i37 < c27231k5.f76371e && c27231k5.f76376j[i37] + c27231k5.f76375i[i37] < m947b) {
                                if (c27231k5.f76377k[i37]) {
                                    valueAt3.f76321h = i37;
                                }
                                i37++;
                            }
                        }
                    }
                    c27221d2.f76307v = -9223372036854775807L;
                    c27221d = c27221d2;
                }
            } else if (!c27221d.f76298m.isEmpty()) {
                c27221d.f76298m.peek().f76261d.add(pop);
            }
        }
        m691b();
    }

    @Override // p1727n3.p1874y.p1876b.p1877a.p1882q0.AbstractC27179g
    public void release() {
    }
}
