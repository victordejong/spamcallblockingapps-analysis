package com.google.android.exoplayer2.p243c1.p247d0;

import android.util.SparseArray;
import com.google.android.exoplayer2.Format;
import com.google.android.exoplayer2.p243c1.AbstractC4980j;
import com.google.android.exoplayer2.p243c1.AbstractC4996v;
import com.google.android.exoplayer2.p243c1.p247d0.AbstractC4933h0;
import com.google.android.exoplayer2.util.C5512g;
import com.google.android.exoplayer2.util.C5531s;
import com.google.android.exoplayer2.util.C5536v;
import com.google.android.exoplayer2.util.C5537w;
import java.util.ArrayList;
import java.util.Arrays;
/* renamed from: com.google.android.exoplayer2.c1.d0.q */
/* loaded from: classes-dex2jar.jar:com/google/android/exoplayer2/c1/d0/q.class */
public final class C4949q implements AbstractC4946o {

    /* renamed from: a */
    private final C4920c0 f15274a;

    /* renamed from: b */
    private final boolean f15275b;

    /* renamed from: c */
    private final boolean f15276c;

    /* renamed from: g */
    private long f15280g;

    /* renamed from: i */
    private String f15282i;

    /* renamed from: j */
    private AbstractC4996v f15283j;

    /* renamed from: k */
    private C4951b f15284k;

    /* renamed from: l */
    private boolean f15285l;

    /* renamed from: m */
    private long f15286m;

    /* renamed from: n */
    private boolean f15287n;

    /* renamed from: h */
    private final boolean[] f15281h = new boolean[3];

    /* renamed from: d */
    private final C4958v f15277d = new C4958v(7, 128);

    /* renamed from: e */
    private final C4958v f15278e = new C4958v(8, 128);

    /* renamed from: f */
    private final C4958v f15279f = new C4958v(6, 128);

    /* renamed from: o */
    private final C5536v f15288o = new C5536v();

    /* renamed from: com.google.android.exoplayer2.c1.d0.q$b */
    /* loaded from: classes-dex2jar.jar:com/google/android/exoplayer2/c1/d0/q$b.class */
    public static final class C4951b {

        /* renamed from: a */
        private final AbstractC4996v f15289a;

        /* renamed from: b */
        private final boolean f15290b;

        /* renamed from: c */
        private final boolean f15291c;

        /* renamed from: f */
        private final C5537w f15294f;

        /* renamed from: g */
        private byte[] f15295g;

        /* renamed from: h */
        private int f15296h;

        /* renamed from: i */
        private int f15297i;

        /* renamed from: j */
        private long f15298j;

        /* renamed from: k */
        private boolean f15299k;

        /* renamed from: l */
        private long f15300l;

        /* renamed from: o */
        private boolean f15303o;

        /* renamed from: p */
        private long f15304p;

        /* renamed from: q */
        private long f15305q;

        /* renamed from: r */
        private boolean f15306r;

        /* renamed from: d */
        private final SparseArray<C5531s.C5533b> f15292d = new SparseArray<>();

        /* renamed from: e */
        private final SparseArray<C5531s.C5532a> f15293e = new SparseArray<>();

        /* renamed from: m */
        private C4952a f15301m = new C4952a();

        /* renamed from: n */
        private C4952a f15302n = new C4952a();

        /* renamed from: com.google.android.exoplayer2.c1.d0.q$b$a */
        /* loaded from: classes-dex2jar.jar:com/google/android/exoplayer2/c1/d0/q$b$a.class */
        public static final class C4952a {

            /* renamed from: a */
            private boolean f15307a;

            /* renamed from: b */
            private boolean f15308b;

            /* renamed from: c */
            private C5531s.C5533b f15309c;

            /* renamed from: d */
            private int f15310d;

            /* renamed from: e */
            private int f15311e;

            /* renamed from: f */
            private int f15312f;

            /* renamed from: g */
            private int f15313g;

            /* renamed from: h */
            private boolean f15314h;

            /* renamed from: i */
            private boolean f15315i;

            /* renamed from: j */
            private boolean f15316j;

            /* renamed from: k */
            private boolean f15317k;

            /* renamed from: l */
            private int f15318l;

            /* renamed from: m */
            private int f15319m;

            /* renamed from: n */
            private int f15320n;

            /* renamed from: o */
            private int f15321o;

            /* renamed from: p */
            private int f15322p;

            private C4952a() {
            }

            /* JADX WARN: Code restructure failed: missing block: B:17:0x0053, code lost:
                if (r3.f15316j == r4.f15316j) goto L18;
             */
            /* JADX WARN: Code restructure failed: missing block: B:23:0x0074, code lost:
                if (r0 != 0) goto L24;
             */
            /* JADX WARN: Code restructure failed: missing block: B:31:0x00a6, code lost:
                if (r3.f15320n == r4.f15320n) goto L32;
             */
            /* JADX WARN: Code restructure failed: missing block: B:39:0x00d1, code lost:
                if (r3.f15322p == r4.f15322p) goto L40;
             */
            /* renamed from: c */
            /*
                Code decompiled incorrectly, please refer to instructions dump.
                To view partially-correct add '--show-bad-code' argument
            */
            public boolean m21097c(com.google.android.exoplayer2.p243c1.p247d0.C4949q.C4951b.C4952a r4) {
                /*
                    Method dump skipped, instructions count: 263
                    To view this dump add '--comments-level debug' option
                */
                throw new UnsupportedOperationException("Method not decompiled: com.google.android.exoplayer2.p243c1.p247d0.C4949q.C4951b.C4952a.m21097c(com.google.android.exoplayer2.c1.d0.q$b$a):boolean");
            }

            /* renamed from: b */
            public void m21098b() {
                this.f15308b = false;
                this.f15307a = false;
            }

            /* renamed from: d */
            public boolean m21096d() {
                int i;
                return this.f15308b && ((i = this.f15311e) == 7 || i == 2);
            }

            /* renamed from: e */
            public void m21095e(C5531s.C5533b c5533b, int i, int i2, int i3, int i4, boolean z, boolean z2, boolean z3, boolean z4, int i5, int i6, int i7, int i8, int i9) {
                this.f15309c = c5533b;
                this.f15310d = i;
                this.f15311e = i2;
                this.f15312f = i3;
                this.f15313g = i4;
                this.f15314h = z;
                this.f15315i = z2;
                this.f15316j = z3;
                this.f15317k = z4;
                this.f15318l = i5;
                this.f15319m = i6;
                this.f15320n = i7;
                this.f15321o = i8;
                this.f15322p = i9;
                this.f15307a = true;
                this.f15308b = true;
            }

            /* renamed from: f */
            public void m21094f(int i) {
                this.f15311e = i;
                this.f15308b = true;
            }
        }

        public C4951b(AbstractC4996v abstractC4996v, boolean z, boolean z2) {
            this.f15289a = abstractC4996v;
            this.f15290b = z;
            this.f15291c = z2;
            byte[] bArr = new byte[128];
            this.f15295g = bArr;
            this.f15294f = new C5537w(bArr, 0, 0);
            m21101g();
        }

        /* renamed from: d */
        private void m21104d(int i) {
            boolean z = this.f15306r;
            this.f15289a.mo19984c(this.f15305q, z ? 1 : 0, (int) (this.f15298j - this.f15304p), i, null);
        }

        /* JADX WARN: Removed duplicated region for block: B:52:0x018d  */
        /* JADX WARN: Removed duplicated region for block: B:53:0x0193  */
        /* JADX WARN: Removed duplicated region for block: B:56:0x019b  */
        /* JADX WARN: Removed duplicated region for block: B:60:0x01b2  */
        /* JADX WARN: Removed duplicated region for block: B:63:0x01be  */
        /* JADX WARN: Removed duplicated region for block: B:74:0x01ff  */
        /* renamed from: a */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public void m21107a(byte[] r17, int r18, int r19) {
            /*
                Method dump skipped, instructions count: 638
                To view this dump add '--comments-level debug' option
            */
            throw new UnsupportedOperationException("Method not decompiled: com.google.android.exoplayer2.p243c1.p247d0.C4949q.C4951b.m21107a(byte[], int, int):void");
        }

        /* JADX WARN: Code restructure failed: missing block: B:22:0x0088, code lost:
            if (r0 == 1) goto L23;
         */
        /* renamed from: b */
        /*
            Code decompiled incorrectly, please refer to instructions dump.
            To view partially-correct add '--show-bad-code' argument
        */
        public boolean m21106b(long r8, int r10, boolean r11, boolean r12) {
            /*
                r7 = this;
                r0 = r7
                int r0 = r0.f15297i
                r13 = r0
                r0 = 0
                r14 = r0
                r0 = r13
                r1 = 9
                if (r0 == r1) goto L25
                r0 = r7
                boolean r0 = r0.f15291c
                if (r0 == 0) goto L58
                r0 = r7
                com.google.android.exoplayer2.c1.d0.q$b$a r0 = r0.f15302n
                r1 = r7
                com.google.android.exoplayer2.c1.d0.q$b$a r1 = r1.f15301m
                boolean r0 = com.google.android.exoplayer2.p243c1.p247d0.C4949q.C4951b.C4952a.m21099a(r0, r1)
                if (r0 == 0) goto L58
            L25:
                r0 = r11
                if (r0 == 0) goto L3e
                r0 = r7
                boolean r0 = r0.f15303o
                if (r0 == 0) goto L3e
                r0 = r7
                r1 = r10
                r2 = r8
                r3 = r7
                long r3 = r3.f15298j
                long r2 = r2 - r3
                int r2 = (int) r2
                int r1 = r1 + r2
                r0.m21104d(r1)
            L3e:
                r0 = r7
                r1 = r7
                long r1 = r1.f15298j
                r0.f15304p = r1
                r0 = r7
                r1 = r7
                long r1 = r1.f15300l
                r0.f15305q = r1
                r0 = r7
                r1 = 0
                r0.f15306r = r1
                r0 = r7
                r1 = 1
                r0.f15303o = r1
            L58:
                r0 = r7
                boolean r0 = r0.f15290b
                if (r0 == 0) goto L68
                r0 = r7
                com.google.android.exoplayer2.c1.d0.q$b$a r0 = r0.f15302n
                boolean r0 = r0.m21096d()
                r12 = r0
            L68:
                r0 = r7
                boolean r0 = r0.f15306r
                r11 = r0
                r0 = r7
                int r0 = r0.f15297i
                r13 = r0
                r0 = r13
                r1 = 5
                if (r0 == r1) goto L8b
                r0 = r14
                r10 = r0
                r0 = r12
                if (r0 == 0) goto L8d
                r0 = r14
                r10 = r0
                r0 = r13
                r1 = 1
                if (r0 != r1) goto L8d
            L8b:
                r0 = 1
                r10 = r0
            L8d:
                r0 = r11
                r1 = r10
                r0 = r0 | r1
                r11 = r0
                r0 = r7
                r1 = r11
                r0.f15306r = r1
                r0 = r11
                return r0
            */
            throw new UnsupportedOperationException("Method not decompiled: com.google.android.exoplayer2.p243c1.p247d0.C4949q.C4951b.m21106b(long, int, boolean, boolean):boolean");
        }

        /* renamed from: c */
        public boolean m21105c() {
            return this.f15291c;
        }

        /* renamed from: e */
        public void m21103e(C5531s.C5532a c5532a) {
            this.f15293e.append(c5532a.f17921a, c5532a);
        }

        /* renamed from: f */
        public void m21102f(C5531s.C5533b c5533b) {
            this.f15292d.append(c5533b.f17927d, c5533b);
        }

        /* renamed from: g */
        public void m21101g() {
            this.f15299k = false;
            this.f15303o = false;
            this.f15302n.m21098b();
        }

        /* renamed from: h */
        public void m21100h(long j, int i, long j2) {
            this.f15297i = i;
            this.f15300l = j2;
            this.f15298j = j;
            if (!this.f15290b || i != 1) {
                if (!this.f15291c) {
                    return;
                }
                if (i != 5 && i != 1 && i != 2) {
                    return;
                }
            }
            C4952a c4952a = this.f15301m;
            this.f15301m = this.f15302n;
            this.f15302n = c4952a;
            c4952a.m21098b();
            this.f15296h = 0;
            this.f15299k = true;
        }
    }

    public C4949q(C4920c0 c4920c0, boolean z, boolean z2) {
        this.f15274a = c4920c0;
        this.f15275b = z;
        this.f15276c = z2;
    }

    /* renamed from: a */
    private void m21110a(long j, int i, int i2, long j2) {
        if (!this.f15285l || this.f15284k.m21105c()) {
            this.f15277d.m21065b(i2);
            this.f15278e.m21065b(i2);
            if (!this.f15285l) {
                if (this.f15277d.m21064c() && this.f15278e.m21064c()) {
                    ArrayList arrayList = new ArrayList();
                    C4958v c4958v = this.f15277d;
                    arrayList.add(Arrays.copyOf(c4958v.f15391d, c4958v.f15392e));
                    C4958v c4958v2 = this.f15278e;
                    arrayList.add(Arrays.copyOf(c4958v2.f15391d, c4958v2.f15392e));
                    C4958v c4958v3 = this.f15277d;
                    C5531s.C5533b m18714i = C5531s.m18714i(c4958v3.f15391d, 3, c4958v3.f15392e);
                    C4958v c4958v4 = this.f15278e;
                    C5531s.C5532a m18715h = C5531s.m18715h(c4958v4.f15391d, 3, c4958v4.f15392e);
                    this.f15283j.mo19983d(Format.m21758D(this.f15282i, "video/avc", C5512g.m18888b(m18714i.f17924a, m18714i.f17925b, m18714i.f17926c), -1, -1, m18714i.f17928e, m18714i.f17929f, -1.0f, arrayList, -1, m18714i.f17930g, null));
                    this.f15285l = true;
                    this.f15284k.m21102f(m18714i);
                    this.f15284k.m21103e(m18715h);
                    this.f15277d.m21063d();
                    this.f15278e.m21063d();
                }
            } else if (this.f15277d.m21064c()) {
                C4958v c4958v5 = this.f15277d;
                this.f15284k.m21102f(C5531s.m18714i(c4958v5.f15391d, 3, c4958v5.f15392e));
                this.f15277d.m21063d();
            } else if (this.f15278e.m21064c()) {
                C4958v c4958v6 = this.f15278e;
                this.f15284k.m21103e(C5531s.m18715h(c4958v6.f15391d, 3, c4958v6.f15392e));
                this.f15278e.m21063d();
            }
        }
        if (this.f15279f.m21065b(i2)) {
            C4958v c4958v7 = this.f15279f;
            this.f15288o.m18682K(this.f15279f.f15391d, C5531s.m18712k(c4958v7.f15391d, c4958v7.f15392e));
            this.f15288o.m18680M(4);
            this.f15274a.m21200a(j2, this.f15288o);
        }
        if (this.f15284k.m21106b(j, i, this.f15285l, this.f15287n)) {
            this.f15287n = false;
        }
    }

    /* renamed from: g */
    private void m21109g(byte[] bArr, int i, int i2) {
        if (!this.f15285l || this.f15284k.m21105c()) {
            this.f15277d.m21066a(bArr, i, i2);
            this.f15278e.m21066a(bArr, i, i2);
        }
        this.f15279f.m21066a(bArr, i, i2);
        this.f15284k.m21107a(bArr, i, i2);
    }

    /* renamed from: h */
    private void m21108h(long j, int i, long j2) {
        if (!this.f15285l || this.f15284k.m21105c()) {
            this.f15277d.m21062e(i);
            this.f15278e.m21062e(i);
        }
        this.f15279f.m21062e(i);
        this.f15284k.m21100h(j, i, j2);
    }

    @Override // com.google.android.exoplayer2.p243c1.p247d0.AbstractC4946o
    /* renamed from: b */
    public void mo21073b(C5536v c5536v) {
        int m18676c = c5536v.m18676c();
        int m18675d = c5536v.m18675d();
        byte[] bArr = c5536v.f17941a;
        this.f15280g += c5536v.m18678a();
        this.f15283j.mo19985b(c5536v, c5536v.m18678a());
        while (true) {
            int m18720c = C5531s.m18720c(bArr, m18676c, m18675d, this.f15281h);
            if (m18720c == m18675d) {
                m21109g(bArr, m18676c, m18675d);
                return;
            }
            int m18717f = C5531s.m18717f(bArr, m18720c);
            int i = m18720c - m18676c;
            if (i > 0) {
                m21109g(bArr, m18676c, m18720c);
            }
            int i2 = m18675d - m18720c;
            long j = this.f15280g - i2;
            m21110a(j, i2, i < 0 ? -i : 0, this.f15286m);
            m21108h(j, m18717f, this.f15286m);
            m18676c = m18720c + 3;
        }
    }

    @Override // com.google.android.exoplayer2.p243c1.p247d0.AbstractC4946o
    /* renamed from: c */
    public void mo21072c() {
        C5531s.m18722a(this.f15281h);
        this.f15277d.m21063d();
        this.f15278e.m21063d();
        this.f15279f.m21063d();
        this.f15284k.m21101g();
        this.f15280g = 0L;
        this.f15287n = false;
    }

    @Override // com.google.android.exoplayer2.p243c1.p247d0.AbstractC4946o
    /* renamed from: d */
    public void mo21071d() {
    }

    @Override // com.google.android.exoplayer2.p243c1.p247d0.AbstractC4946o
    /* renamed from: e */
    public void mo21070e(AbstractC4980j abstractC4980j, AbstractC4933h0.C4937d c4937d) {
        c4937d.m21159a();
        this.f15282i = c4937d.m21158b();
        AbstractC4996v mo19748t = abstractC4980j.mo19748t(c4937d.m21157c(), 2);
        this.f15283j = mo19748t;
        this.f15284k = new C4951b(mo19748t, this.f15275b, this.f15276c);
        this.f15274a.m21199b(abstractC4980j, c4937d);
    }

    @Override // com.google.android.exoplayer2.p243c1.p247d0.AbstractC4946o
    /* renamed from: f */
    public void mo21069f(long j, int i) {
        this.f15286m = j;
        this.f15287n |= (i & 2) != 0;
    }
}
